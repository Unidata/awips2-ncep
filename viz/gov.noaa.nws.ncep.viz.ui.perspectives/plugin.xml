<?xml version="1.0" encoding="UTF-8"?>
<?eclipse version="3.2"?>
<plugin>
   <extension
         point="org.eclipse.ui.perspectives">
      <perspective
            class="gov.noaa.nws.ncep.viz.ui.perspectives.NCPerspective"
            fixed="true"
            icon="icons/barcode.png"
            id="gov.noaa.nws.ncep.viz.ui.NCPerspective"
            name="NCP"
            singleton="true">
      </perspective>
   </extension>
   <extension
         point="org.eclipse.ui.actionSets">
      <actionSet
            id="gov.noaa.nws.ncep.viz.ui.personalities.NCActionSet"
            label="National Centers Action Set"
            visible="false">
      </actionSet>
   </extension>
   <extension
         point="org.eclipse.core.expressions.definitions">
      <definition
            id="gov.noaa.nws.ncep.viz.ui.personalities.inNCActionSet">
         <with
               variable="activeContexts">
            <iterate
                  operator="or">
               <equals
                     value="gov.noaa.nws.ncep.viz.ui.personalities.NCActionSet">
               </equals>
            </iterate>
         </with>
      </definition>
      <definition
            id="gov.noaa.nws.ncep.viz.ui.personalities.notInNCActionSet">
         <with
               variable="activeContexts">
            <iterate
                  operator="and">
               <not><equals
                     value="gov.noaa.nws.ncep.viz.ui.personalities.NCActionSet">
               </equals></not>
            </iterate>
         </with>
      </definition>
   </extension>
   <extension
         point="org.eclipse.ui.menus">
         <menuContribution
            locationURI="menu:org.eclipse.ui.main.menu?before=help">
           <menu
                id="NCFile"
                label="File"
                mnemonic="F">
             <visibleWhen>
                <reference
                      definitionId="gov.noaa.nws.ncep.viz.ui.personalities.inNCActionSet">
                </reference>
             </visibleWhen>
             <command
                   commandId="org.eclipse.ui.window.newEditor"
                   label="New Map Window"
                   mnemonic="N"
                   style="push">
             </command>
             <command
                   commandId="gov.noaa.nws.ncep.viz.ui.newResource"
                   label="New Data Layer"
                   mnemonic="R"
                   style="push">
             </command>
             <command
                   commandId="gov.noaa.nws.ncep.viz.actions.resourceManager"
                   id="gov.noaa.nws.ncep.viz.actions.resourceManager"
                   label="Data"
                   style="push"
                   tooltip="Resource Manager">
                <visibleWhen>
                   <reference
                         definitionId="gov.noaa.nws.ncep.viz.ui.personalities.inNCActionSet">
                   </reference>
                </visibleWhen>
                <parameter
                      name="mode"
                      value="CREATE_RBD">
                </parameter>
             </command>
         
             <separator
                   name="beforeSaveGroup"
                   visible="true">
             </separator>
             <command
                   commandId="gov.noaa.nws.ncep.viz.ui.saveBundle"
                   label="Save Bundle"
                   style="push">
             </command>
             <command
                   commandId="com.raytheon.uf.viz.image.export.save"
                   label="Save Screenshot"
                   mnemonic="S"
                   style="push">
             </command>
             <command
                   commandId="gov.noaa.nws.ncep.viz.ui.actions.saveArea"
                   label="Save Area"
                   mnemonic="A"
                   style="push">
             </command>
             <command
                   commandId="com.raytheon.viz.ui.saveBundle"
                   label="Save Display"
                   style="push">
             </command>
             <!-- <separator
                   name="beforePreferences"
                   visible="true">
             </separator>
            <command
                  commandId="org.eclipse.ui.window.preferences" 
                  label="Preferences..."
                  style="push"
                  mnemonic="f">
            </command> -->
             <separator
                   name="beforePrint"
                   visible="true">
             </separator>
             <command
                   commandId="com.raytheon.uf.viz.image.export.print"
                   label="Print"
                   style="push"
                   mnemonic="P">
             </command>
             <command
                   commandId="com.raytheon.viz.ui.actions.printScreenReverseAction"
                   label="Print Reverse Image..."
                   style="push">
             </command>
             <!-- <separator
                   name="beforeExit"
                   visible="true">
             </separator>
             <command
                   commandId="org.eclipse.ui.file.exit"
                   label="Exit..."
                   style="push"
                   mnemonic="E">
             </command> -->
           </menu>
           <menu
                id="NCOption"
                label="View"
                mnemonic="V">
             <visibleWhen>
                <reference
                      definitionId="gov.noaa.nws.ncep.viz.ui.personalities.inNCActionSet">
                </reference></visibleWhen>
<!--             <command
                   commandId="gov.noaa.nws.ncep.ui.actions.ImagePropertiesAction"
                   label="Image Properties"
                   style="push"
                   mnemonic="I">
                 </command>
                   -->
            <command
                  commandId="gov.noaa.nws.ncep.viz.CustomProjection"
                  label="Map Projections">
            </command>
              <command
                   commandId="gov.noaa.nws.ncep.viz.ui.actions.CursorAction"
                   id = "gov.noaa.nws.ncep.viz.ui.actions.CursorAction"
                   label="Cursor"
                   style="push"
                   mnemonic="u">
             </command>
             <command
                   commandId="gov.noaa.nws.ncep.viz.ui.options.SyncPanes"
                   id="gov.noaa.nws.ncep.viz.ui.options.SyncPanes"
                   label="Synchronize Panes"
                   style="toggle"
                   mnemonic="S"
                   tooltip="Synchronize Panes">
             </command>
             <command
                   commandId="gov.noaa.nws.ncep.viz.ui.actions.BadFrameAction"
                   id="gov.noaa.nws.ncep.viz.ui.actions.BadFrameAction"
                   label="Bad Frame"
                   style="push"
                   mnemonic="B">
             </command>
             <menu
                   id="NCZoomMode"
                   label="Zoom Mode">
                   <!--
               <command
                   commandId="gov.noaa.nws.ncep.viz.ui.options.ZoomLock"
                	      id="gov.noaa.nws.ncep.viz.ui.options.ZoomLock"
                   label="Zoom Lock"
                   style="radio"
                   mnemonic="Z"
                   tooltip="Disable Zooming">
                </command>
                -->                   
                <command
                     commandId="com.raytheon.viz.ui.actions.notImplemented"
                     label="Corner"
                     style="radio">
                </command>
                <command
                     commandId="com.raytheon.viz.ui.actions.notImplemented"
                     label="Center"
                     style="radio">
                </command>
             </menu>
             <separator
                   name="beforeLoopGroup"
                   visible="true">
             </separator>
           <command
                   commandId="gov.noaa.nws.ncep.viz.ui.actions.LoopManagement"
                   id="gov.noaa.nws.ncep.viz.ui.actions.LoopManagement"
                   label="Loop Management"
                   style="push"
                   mnemonic="L">
             </command>
             <separator
                   name="beforeSeek"
                   visible="true">
             </separator>
            <command
                   commandId="gov.noaa.nws.ncep.viz.ui.actions.seek"
                   label="Seek Preferences"
                   style="push"
                   mnemonic="e">
             </command>
            <command
                   commandId="com.raytheon.viz.ui.actions.notImplemented"
                   label="Base Overlay"
                   style="push"
                   mnemonic="O">
             </command>
<!-- This will just bring up the PGEN Preferences page where this flag is set.
            <command
                   commandId="gov.noaa.nws.ncep.viz.ui.preferences.handler"
                   label="PGEN Layer Link"
                   style="push"
                   mnemonic="LL">
             </command>
-->
           </menu>
           <menu id="NCPredefinedArea"
                 label="Area"
                 mnemonic="A">
              <visibleWhen>
                 <reference
                       definitionId="gov.noaa.nws.ncep.viz.ui.personalities.inNCActionSet">
                 </reference>
              </visibleWhen>
              <dynamic 
                   class="gov.noaa.nws.ncep.viz.ui.perspectives.menus.PredefinedAreaMenu"
                   id="gov.noaa.nws.ncep.viz.ui.perspectives.menus.PredefinedAreaMenu">
             </dynamic>
             <!-- Now done programmatically and only if an area-providing resource is loaded
			<menu label="From Resource">
                 <dynamic
                       class="gov.noaa.nws.ncep.viz.ui.perspectives.menus.AreasFromResourcesMenu"
                       id="gov.noaa.nws.ncep.viz.ui.perspectives.menus.AreasFromResourcesMenu">
                 </dynamic>
            </menu>
            <command  commandId="gov.noaa.nws.ncep.viz.CustomProjection"
                    label="Custom...">
            </command>
 -->
           </menu>
           <!--
           <menu id=""
                 label="Zoom Level"
                 mnemonic="Z">
              <visibleWhen>
                 <reference
                       definitionId="gov.noaa.nws.ncep.viz.ui.personalities.inNCActionSet">
                 </reference>
              </visibleWhen>
              <dynamic 
                   class="gov.noaa.nws.ncep.viz.ui.perspectives.menus.PredefinedAreaMenu"
                   id="gov.noaa.nws.ncep.viz.ui.perspectives.menus.PredefinedAreaMenu">
             </dynamic>
              <menu
                    label="Resource...">
                 <dynamic
                       class="gov.noaa.nws.ncep.viz.ui.perspectives.menus.PredefinedAreaMenu"
                       id="gov.noaa.nws.ncep.viz.ui.perspectives.menus.PredefinedAreaMenu">
                 </dynamic>
              </menu>

           </menu>
			-->
           <menu id="NCOverlays"
                 label="Overlays"
                 mnemonic="v">
              <visibleWhen>
                 <reference
                       definitionId="gov.noaa.nws.ncep.viz.ui.personalities.inNCActionSet">
                 </reference>
              </visibleWhen>
              <dynamic 
                   class="gov.noaa.nws.ncep.viz.ui.perspectives.menus.OverlayMenu"
                   id="gov.noaa.nws.ncep.viz.ui.perspectives.menus.OverlayMenu">
             </dynamic>
           </menu>
<!--           <menu
                 id="AddResource"
                 label="Add Resource"
                 mnemonic="r">
              <visibleWhen>
                 <reference
                       definitionId="gov.noaa.nws.ncep.viz.ui.personalities.inNCActionSet">
                 </reference>
              </visibleWhen>
              <dynamic 
                   class="gov.noaa.nws.ncep.viz.ui.perspectives.menus.ResourceMenu"
                   id="gov.noaa.nws.ncep.viz.ui.perspectives.menus.ResourceMenu">
             </dynamic>
           </menu> -->
           <menu
                 id="NCTools"
                 label="Tools"
                 mnemonic="T"
                 tooltip="Tools">
              <visibleWhen>
                 <reference
                       definitionId="gov.noaa.nws.ncep.viz.ui.personalities.inNCActionSet">
                 </reference>
              </visibleWhen>
              <command
                    commandId="gov.noaa.nws.ncep.viz.actions.resourceManager"
                    label="Manage Data Sources"
                    mnemonic="M"
                    style="push"
                    tooltip="Create and Edit Resource Definitions and Attribute Sets">
                 <parameter
                       name="mode"
                       value="MANAGE_RESOURCES">
                 </parameter>
              </command>
            <command
                   commandId="gov.noaa.nws.ncep.viz.actions.cloudHeight"
                   label="Cloud Height"
                   style="push"
                   mnemonic="H">
             </command>
            <command
                  commandId="gov.noaa.nws.ncep.viz.ui.actions.seek"
                  label="Seek"
                  mnemonic="H"
                  style="push">
            </command>
             <separator
                   name="afterSources"
                   visible="true">
             </separator>
              <command
                    commandId="gov.noaa.nws.ncep.viz.plotModelMngr"
                    label="Plot Model Manager"
                    mnemonic="P"
                    style="push"
                    tooltip="Plot Model Manager">
              </command>
              <command
                    commandId="gov.noaa.nws.ncep.viz.conditionalFilterMngr"
                    label="Conditional Filter Manager"
                    mnemonic="F"
                    style="push"
                    tooltip="Conditional Filter Manager">
              </command>
              <command
                    commandId="gov.noaa.nws.ncep.ui.actions.aodt.operational"
                    label="AODT Operational"
                    style="push">
              </command>    
              <!-- command
                    commandId="gov.noaa.nws.ncep.ui.actions.aodt.experimental"
                    label="AODT Experimental"
                    style="push">
              </command-->
              <command
                    commandId="gov.noaa.nws.ncep.viz.colorMapEditor"
                    label="Colormap Editor"
                    mnemonic="C"
                    style="push"
                    tooltip="Colormap Editor">
              </command>
              <command
                    commandId="gov.noaa.nws.ncep.ui.pgen.activityConfigure"
                    label="Configure PGEN Activity"
                    mnemonic="C"
                    style="push">
              </command>
              <command
                    commandId="edu.ucar.unidata.ui.ncradarui.palette"
                    id="edu.ucar.unidata.ui.ncradarui.palette"
                    label="Ncradar"
                    style="push">
              </command>
              <!--
              <command
                    commandId="sync.file.tool.command"
                    label="Sync File Tool"
                    style="push">
              </command>
              -->
           </menu>
           <menu
                 id="satellite"
                 label="Satellite"
                 mnemonic="S">
              <separator
                    name="MENUSTART"
                    visible="false">
              </separator>
              <separator
                    name="GROUPX"
                    visible="false">
              </separator>
              <separator
                    name="MENUEND"
                    visible="false">
              </separator>
              <visibleWhen>
                 <reference
                       definitionId="gov.noaa.nws.ncep.viz.ui.personalities.inNCActionSet">
                 </reference>
              </visibleWhen>
           </menu>
           <!--menu
                id="NCHelp"
                label="Help"
                mnemonic="H">
             <visibleWhen>
                 <reference
                       definitionId="gov.noaa.nws.ncep.viz.ui.personalities.inNCActionSet">
                 </reference>
              </visibleWhen>
             <command
                   commandId="com.raytheon.viz.ui.actions.notImplemented"
                   label="Show tooltips"
                   style="toggle">
             </command>
             <separator
                   name="separator1"
                   visible="true">
             </separator>
             <command
                   commandId="org.eclipse.ui.help.aboutAction"
                   label="About CAVE"
                   mnemonic="A"
                   style="push">
             </command>
             <separator
                   name="aboutAdditions"
                   visible="false">
             </separator>
          </menu-->         			
         </menuContribution>
         <menuContribution
               locationURI="menu:NCHelp?after=additions">

           <command
                 commandId="com.raytheon.viz.ui.actions.notImplemented"
                 label="NC Help"
                 style="push">
                <visibleWhen>
                <reference
                      definitionId="gov.noaa.nws.ncep.viz.ui.personalities.inNCActionSet">
                </reference></visibleWhen>
           </command>
         </menuContribution>
         <menuContribution
               locationURI="toolbar:org.eclipse.ui.main.toolbar">
            <toolbar
                  id="NC-1">
				<command
                     commandId="gov.noaa.nws.ncep.viz.ui.newResource"
                     icon="icons/plus.png"
                     label="Load"
                     mode="FORCE_TEXT"
                     style="push"
                     tooltip="Load">
                  <visibleWhen>
                     <reference
                           definitionId="gov.noaa.nws.ncep.viz.ui.personalities.inNCActionSet">
                     </reference>
                  </visibleWhen>
               </command>
               <command
                     commandId="gov.noaa.nws.ncep.viz.ui.actions.clearData"
                     id="gov.noaa.nws.ncep.viz.ui.actions.clearData"
                     label="Clear"
                     mode="FORCE_TEXT"
                     style="push"
                     tooltip="Clear">
                  <visibleWhen>
                     <reference
                           definitionId="gov.noaa.nws.ncep.viz.ui.personalities.inNCActionSet">
                     </reference>
                  </visibleWhen>
               </command>
               <command
                     commandId="gov.noaa.nws.ncep.viz.tools.pan"
                     icon="icons/arrows-alt.png"
                     id="gov.noaa.nws.ncep.viz.tools.pan"
                     label="Pan"
                     style="radio"
                     tooltip="Pan">
                  <visibleWhen>
                     <reference
                           definitionId="gov.noaa.nws.ncep.viz.ui.personalities.inNCActionSet">
                     </reference>
                  </visibleWhen>
               </command>
               <command
                     commandId="gov.noaa.nws.ncep.viz.tools.zoom"
                     disabledIcon="icons/search.png"
                     icon="icons/search-plus.png"
                     id="gov.noaa.nws.ncep.viz.tools.zoom"
                     label="Zoom"
                     style="radio"
                     tooltip="Zoom">
                  <visibleWhen>
                     <reference
                           definitionId="gov.noaa.nws.ncep.viz.ui.personalities.inNCActionSet">
                     </reference>
                  </visibleWhen>
               </command>
               <command
                     commandId="gov.noaa.nws.ncep.viz.tools.unzoom"
                     icon="icons/search-minus.png"
                     id="gov.noaa.nws.ncep.viz.tools.unzoom"
                     label="Unzoom"
                     style="push"
                     tooltip="Unzoom">
                  <visibleWhen>
                     <reference
                           definitionId="gov.noaa.nws.ncep.viz.ui.personalities.inNCActionSet">
                     </reference>
                  </visibleWhen>
               </command>
               <command
                     commandId="gov.noaa.nws.ncep.viz.ui.autoUpdate"
                     icon="icons/check.png"
                     id="gov.noaa.nws.ncep.viz.ui.autoUpdate"
                     label="Auto Update"
                     mode="FORCE_TEXT"
                     style="toggle"
                     tooltip="Auto Update">
                  <visibleWhen>
                     <reference
                           definitionId="gov.noaa.nws.ncep.viz.ui.personalities.inNCActionSet">
                     </reference>
                  </visibleWhen>
               </command>
 
             
             <!--command
                   commandId="com.raytheon.viz.ui.actions.notImplemented"
                   icon="icons/aodt.gif"
                   id="gov.noaa.nws.ncep.viz.ui.actions.AODT"
                   label="AODT"
                   style="push"
                   tooltip="Hurricane Track">
                <visibleWhen>
                   <reference
                         definitionId="gov.noaa.nws.ncep.viz.ui.personalities.inNCActionSet">
                   </reference>
                </visibleWhen>
             </command-->
	        </toolbar>
         </menuContribution>
         <menuContribution
             locationURI="toolbar:org.eclipse.ui.main.toolbar?after=additions">
            <toolbar
                  id="NC-2">
               <command
                     commandId="gov.noaa.nws.ncep.ui.nsharp.palette"
                     icon="icons/nsharp.png"
                     id="gov.noaa.nws.ncep.ui.nsharp.palette"
                     label="Nsharp"
                     mode="FORCE_TEXT"
                     style="push"
                     tooltip="Nsharp">
                  <visibleWhen>
                     <reference
                           definitionId="gov.noaa.nws.ncep.viz.ui.personalities.inNCActionSet">
                     </reference>
                  </visibleWhen>
               </command>
               <command
                     commandId="gov.noaa.nws.ncep.ui.nctextui.palette"
                     icon="icons/nwx.png"
                     id="gov.noaa.nws.ncep.ui.nctextui.palette"
                     label="Nctext"
                     mode="FORCE_TEXT"
                     style="push"
                     tooltip="Nctext">
                  <visibleWhen>
                     <reference
                           definitionId="gov.noaa.nws.ncep.viz.ui.personalities.inNCActionSet">
                     </reference>
                  </visibleWhen>
               </command>
               <command
                     commandId="gov.noaa.nws.ncep.ui.pgen.palette"
                     icon="icons/edit.png"
                     id="gov.noaa.nws.ncep.ui.actions.productGeneration"
                     label="Pgen"
                     mode="FORCE_TEXT"
                     style="push"
                     tooltip="Pgen">
                  <visibleWhen>
                     <reference
                           definitionId="gov.noaa.nws.ncep.viz.ui.personalities.inNCActionSet">
                     </reference>
                  </visibleWhen>
               </command>
               <command
                   commandId="gov.noaa.nws.ncep.viz.rtkp.actions.GeoMagRTKpAction"
                   id="gov.noaa.nws.ncep.viz.rtkp.rtkp"
                   label="RTKP"
                   style="push"
                   tooltip="Real-time Kp Monitor">
                <visibleWhen>
                   <reference
                         definitionId="gov.noaa.nws.ncep.viz.ui.personalities.inNCActionSet">
                   </reference>
                </visibleWhen>
                </command>
               <command
                     commandId="edu.ucar.unidata.ui.ncradarui.palette"
                     id="edu.ucar.unidata.ui.ncradarui.palette"
                     label="Ncradar"
                     style="push">
                  <visibleWhen>
                     <reference
                           definitionId="gov.noaa.nws.ncep.viz.ui.personalities.inNCActionSet">
                     </reference>
                  </visibleWhen>
               </command>
	        </toolbar>
         </menuContribution>
         <menuContribution
             locationURI="toolbar:org.eclipse.ui.main.toolbar?after=additions">
            <toolbar
                  id="NC-3">
	            <command
                   commandId="gov.noaa.nws.ncep.viz.ui.actions.hideFrames"
                   icon="icons/eye.png"
                   id="gov.noaa.nws.ncep.viz.ui.actions.hideFrames"
                   label="Hide Frames"
                   style="push"
                   tooltip="Hide Frames">
                <visibleWhen>
	               <reference
	                     definitionId="gov.noaa.nws.ncep.viz.ui.personalities.inNCActionSet">
	               </reference>
	            </visibleWhen>
	            </command>
	            <command
                   commandId="gov.noaa.nws.ncep.viz.ui.actions.frameTool"
                   icon="icons/step-backward.png"
                   id="gov.noaa.nws.ncep.viz.ui.actions.firstFrame"
                   label="First Frame"
                   tooltip="First Frame">
                <visibleWhen>
	               <reference
	                     definitionId="gov.noaa.nws.ncep.viz.ui.personalities.inNCActionSet">
	               </reference>
	            </visibleWhen>
                <parameter
                      name="operation"
                      value="FIRST">
                </parameter>
                <parameter
                      name="mode"
                      value="TIME_ONLY">
                </parameter>
	            </command>
	            <command
                   commandId="gov.noaa.nws.ncep.viz.ui.actions.loopBackward"
                   id="gov.noaa.nws.ncep.viz.ui.actions.loopBackward"
                   icon="icons/backward.png"
                   label="Loop Backward"
                   style="toggle"
                   tooltip="Loop Backward">
                <visibleWhen>
	               <reference
	                     definitionId="gov.noaa.nws.ncep.viz.ui.personalities.inNCActionSet">
	               </reference>
	            </visibleWhen>
	            </command>
	            <command
                   commandId="gov.noaa.nws.ncep.viz.ui.actions.frameTool"
                   icon="icons/play-left.png"
                   label="Step Backward"
                   tooltip="Step Backward">
                <visibleWhen>
	               <reference
	                     definitionId="gov.noaa.nws.ncep.viz.ui.personalities.inNCActionSet">
	               </reference>
	            </visibleWhen>
                <parameter
                      name="operation"
                      value="PREVIOUS">
                </parameter>
                <parameter
                      name="mode"
                      value="TIME_ONLY">
                </parameter>
	            </command>
	            <command
                   commandId="gov.noaa.nws.ncep.viz.ui.actions.frameTool"
                   id="gov.noaa.nws.ncep.viz.ui.actions.stepForward"
                   icon="icons/play-right.png"
                   label="Step Forward"
                   tooltip="Step Forward">
                <visibleWhen>
	               <reference
	                     definitionId="gov.noaa.nws.ncep.viz.ui.personalities.inNCActionSet">
	               </reference>
	            </visibleWhen>
                <parameter
                      name="operation"
                      value="NEXT">
                </parameter>
                <parameter
                      name="mode"
                      value="TIME_ONLY">
                </parameter>
	            </command>
	            <command
	               commandId="gov.noaa.nws.ncep.viz.ui.actions.loopForward"
                   id="gov.noaa.nws.ncep.viz.ui.actions.loopForward"
                   icon="icons/forward.png"
                   label="Loop"
                   style="toggle"
                   tooltip="Loop">
                <visibleWhen>
	               <reference
	                     definitionId="gov.noaa.nws.ncep.viz.ui.personalities.inNCActionSet">
	               </reference>
	            </visibleWhen>
	            </command>
	            <command
                   commandId="gov.noaa.nws.ncep.viz.ui.actions.rock"
                   id="gov.noaa.nws.ncep.viz.ui.actions.rock"
                   icon="icons/arrows-h.png"
                   label="Rock"
                   style="toggle"
                   tooltip="Rock">
                <visibleWhen>
	               <reference
	                     definitionId="gov.noaa.nws.ncep.viz.ui.personalities.inNCActionSet">
	               </reference>
	            </visibleWhen>
	            </command>
	            <command
                   commandId="gov.noaa.nws.ncep.viz.ui.actions.frameTool"
                   id="gov.noaa.nws.ncep.viz.ui.actions.lastFrame"
                   icon="icons/step-forward.png"
                   label="Last Frame"
                   tooltip="Last Frame">
                <visibleWhen>
	               <reference
	                     definitionId="gov.noaa.nws.ncep.viz.ui.personalities.inNCActionSet">
	               </reference>
	            </visibleWhen>
                <parameter
                      name="operation"
                      value="LAST">
                </parameter>
                <parameter
                      name="mode"
                      value="TIME_ONLY">
                </parameter>
	            </command>
            </toolbar>
         </menuContribution>
         <!--menuContribution
            locationURI="toolbar:mapControls?before=additions">
               <command
                     commandId="com.raytheon.viz.ui.tools.nav.PanTool">
               <toolbar
                  id="mapControls">
                     <visibleWhen>
                      <reference
                            definitionId="gov.noaa.nws.ncep.viz.ui.personalities.notInNCActionSet">
                      </reference>
                     </visibleWhen>
               </toolbar>
               </command>
   				<command
            id="edu.ucar.unidata.ui.ncradarui.palette"
            name="Ncradar">
      </command>/command>
         </menuContribution-->
   </extension>
   <extension
         point="org.eclipse.ui.commands">
      <category 
            id="gov.noaa.nws.ncep.viz.ui.modalTool"
            name="Modal Tool">
      </category>
      <command
            id="gov.noaa.nws.ncep.viz.ui.actions.loadOverlay"
            name="Load Overlay">
         <commandParameter
               id="overlayName"
               name="overlayName"
               optional="false">
         </commandParameter>
          <commandParameter
               id="resourceName"
               name="resourceName"
               optional="false">
         </commandParameter>
      </command>
      <command
            description="Auto Update"
            id="gov.noaa.nws.ncep.viz.ui.autoUpdate"
            name="Auto Update">
      </command>
      <command
            id="sync.file.tool.command"
            name="Synchronization Tool Command">
      </command>
      <command
            id="gov.noaa.nws.ncep.viz.ui.preferences.handler"
            name="Preferences Handler">
      </command>
      <command
            id="edu.ucar.unidata.ui.ncradarui.palette"
            name="name">
      </command>
   </extension>
   
   <extension
         point="com.raytheon.viz.ui.perspectiveManager">
      <perspectiveManager
      		perspectiveId="gov.noaa.nws.ncep.viz.ui.NCPerspective"
            class="gov.noaa.nws.ncep.viz.ui.perspectives.NCPerspectiveManager"
            name="NCPerspectiveManager">
      </perspectiveManager>
   </extension>
   <extension
         point="org.eclipse.ui.handlers">
      <handler
            class="gov.noaa.nws.ncep.viz.overlays.MapOverlayAction"
            commandId="gov.noaa.nws.ncep.viz.ui.actions.loadOverlay">
      </handler>
      <handler
            class="gov.noaa.nws.ncep.viz.ui.perspectives.PreferencesHandler"
            commandId="gov.noaa.nws.ncep.viz.ui.preferences.handler">
      </handler>
      <handler
            commandId="edu.ucar.unidata.ui.ncradarui.palette">
      </handler>
      
   </extension>
   
   <extension
  		point="org.eclipse.ui.activities">
  		<!--  this extension point is used to remove specified Raytheon menus
  		      and toolbar items from the NC Perspective.  -->
  		<activity
    		name="National Centers"
    		description="UI for National Centers Perspective"
    		id="gov.noaa.nws.ncep.NC.activity">
    		<enabledWhen>
	            <with variable="activeWorkbenchWindow.activePerspective">
	               <not>
	                <equals
                     	value="gov.noaa.nws.ncep.viz.ui.NCPerspective">
               		</equals>
	               </not>
	            </with>
	        </enabledWhen>
  		</activity>
  		
  		<activityPatternBinding
  			activityId="gov.noaa.nws.ncep.NC.activity"
  			pattern="com\.raytheon\.viz\.ui\.tools\.nav/.*">    <!-- Raytheons Pan and Zoom -->
		</activityPatternBinding>

		<!-- Raytheons CAVE Menu -->
  		<!--activityPatternBinding
  			activityId="gov.noaa.nws.ncep.NC.activity"
  			pattern="com\.raytheon\.viz\.ui\.personalities\.awips/.*">
		</activityPatternBinding-->
		  		
  		<!--  this gets rid of all Raytheon menus and toolbars!!!!  activityPatternBinding
  			activityId="gov.noaa.nws.ncep.NC.activity"
  			pattern="com\.raytheon\..*/.*">
		</activityPatternBinding-->
  		
   </extension>
  
   <!-- moved declaration from displays project -->
   <extension
          point="org.eclipse.ui.contexts">
           <context 
                    description="The Natl Centers Perspective Context"
                    id="gov.noaa.nws.ncep.viz.ui.perspectives.NCPerspectiveContext"
                    name="Natl Centers Perspective Context">
           </context>           
   </extension>
      
      <!--Definition of the NCPerspectiveContext -->
   <extension
         point="com.raytheon.uf.viz.core.classContext">
         <classContext
            class="gov.noaa.nws.ncep.viz.ui.perspectives.NCPerspectiveManager">
             <contextId
                   id="gov.noaa.nws.ncep.viz.ui.perspectives.NCPerspectiveContext">
             </contextId>
         </classContext>
   </extension> 
   
         <extension
         point="org.eclipse.ui.bindings"
         id="gov.noaa.nws.ncep.viz.ui.NcPerspective.bindings"
          >
         <key
            commandId="gov.noaa.nws.ncep.viz.actions.resourceManager"
            contextId="gov.noaa.nws.ncep.viz.ui.display.NCMapContext"
            schemeId="com.raytheon.viz.ui.awips.scheme"
            sequence="W">
                 <parameter
                       id="mode"
                       value="CREATE_RBD">
                 </parameter>
         </key>  
         
         <key
            commandId="gov.noaa.nws.ncep.viz.actions.resourceManager"
            contextId="gov.noaa.nws.ncep.viz.ui.display.NCMapContext"
            schemeId="com.raytheon.viz.ui.awips.scheme"
            sequence="SPACE">
                 <parameter
                       id="mode"
                       value="CREATE_RBD">
                 </parameter>
         </key> 
         
         <key
            commandId="gov.noaa.nws.ncep.viz.ui.actions.hideFrames"
            contextId="gov.noaa.nws.ncep.viz.ui.display.NCMapContext"
            schemeId="com.raytheon.viz.ui.awips.scheme"
            sequence="H">
         </key>  

         <key
            commandId="gov.noaa.nws.ncep.viz.ui.newResource"
            contextId="gov.noaa.nws.ncep.viz.ui.display.NCMapContext"
            schemeId="com.raytheon.viz.ui.awips.scheme"
            sequence="M1+SPACE">
         </key>
        </extension>
</plugin>
